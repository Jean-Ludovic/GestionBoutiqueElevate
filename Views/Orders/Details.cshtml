@model GestionBoutiqueElevate.Models.Order
@{
    ViewData["Title"] = "Commande #" + Model.Id;
}
<h2>Commande #@Model.Id</h2>
<p class="text-muted">Client: <strong>@Model.ClientName</strong> — @Model.CreatedAt.ToLocalTime().ToString("g")</p>

<table class="table table-sm">
    <thead><tr><th>SKU</th><th>Produit</th><th class="text-end">PU</th><th class="text-end">Qté</th><th class="text-end">Total</th></tr></thead>
    <tbody>
        @foreach (var it in Model.Items)
        {
            <tr>
                <td>@it.Sku</td>
                <td>@it.Name</td>
                <td class="text-end">@it.UnitPrice.ToString("C")</td>
                <td class="text-end">@it.Quantity</td>
                <td class="text-end">@((it.UnitPrice * it.Quantity).ToString("C"))</td>
            </tr>
        }
    </tbody>
</table>

<div class="ms-auto" style="max-width:420px">
    <div class="d-flex justify-content-between"><span>Sous-total</span><span>@Model.Subtotal.ToString("C")</span></div>
    <div class="d-flex justify-content-between"><span>Remise</span><span>@Model.DiscountAmount.ToString("C")</span></div>
    <div class="d-flex justify-content-between"><span>Taxes (@(Model.TaxRate * 100)%)</span><span>@Model.Tax.ToString("C")</span></div>
    <hr />
    <div class="d-flex justify-content-between fs-5 fw-bold"><span>Total</span><span>@Model.Total.ToString("C")</span></div>
</div>

<a class="btn btn-secondary mt-3" asp-action="Create">Nouvelle commande</a>
